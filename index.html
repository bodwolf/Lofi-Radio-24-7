<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Lofi Radio ðŸ“»</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style> #player-wrapper { position: absolute; top: -9999px; left: -9999px; opacity: 0; } </style>
</head>
<body>

    <div class="top-controls">
        <button id="bgBtn" class="nav-btn" title="ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ù„ÙÙŠØ©"><i class="fas fa-image"></i></button>
        <button id="themeBtn" class="nav-btn" title="ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ù…Ø§Øª"><i class="fas fa-palette"></i></button>
        <button id="minimizeBtn" class="nav-btn" title="ØªØµØºÙŠØ± Ø§Ù„Ù…Ø´ØºÙ„"><i class="fas fa-compress-alt"></i></button>
    </div>

    <div class="radio-device">
        <div class="interface-panel">
            
            <div class="tuner-bar">
                <div class="frequency-lines">||||||||||||||||||||||||||||||||||||</div>
                <div class="tuner-marker"></div>
            </div>

            <div class="radio-screen">
                <div class="scanlines"></div>
                
                <div class="waves-container">
                    <div class="wave-line wave-1"></div>
                    <div class="wave-line wave-2"></div>
                    <div class="wave-line wave-3"></div>
                </div>

                <div id="clock" class="time-display">00:00</div>
                
                <div class="screen-content">
                    
                    <div class="frequency-section">
                        <div class="frequency-number">
                            <span id="freqValue">101.5</span><small>FM</small>
                        </div>
                        <div class="wave-meter">
                            <div class="meter-bar"></div><div class="meter-bar"></div>
                            <div class="meter-bar"></div><div class="meter-bar"></div>
                            <div class="meter-bar"></div>
                            <div class="meter-text">SIGNAL</div>
                        </div>
                    </div>

                    <div class="disc-container">
                        <div class="vinyl-record">
                            <div class="vinyl-center"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="station-info">
                <div class="status-indicator"><span class="dot"></span> Ù…Ø¨Ø§Ø´Ø± 24/7</div>
                <h1 id="stationName">Lofi Girl - Study</h1>
            </div>

            <div class="controls-row">
                <button id="prevBtn" class="nav-btn"><i class="fas fa-step-forward"></i></button>
                <button id="playBtn" class="btn"><i class="fas fa-play"></i></button>
                <button id="pauseBtn" class="btn hidden"><i class="fas fa-pause"></i></button>
                <button id="nextBtn" class="nav-btn"><i class="fas fa-step-backward"></i></button>
            </div>
            
            <div class="volume-control">
                <i class="fas fa-volume-down"></i>
                <input type="range" id="volumeSlider" min="0" max="100" value="50">
                <i class="fas fa-volume-up"></i>
            </div>
        </div>
        
        <div id="player-wrapper"><div id="player"></div></div>
    </div>

    <script>
        const stations = [ { name: "Lofi Girl - Study ðŸ“š", id: "jfKfPfyJRdk", freq: "101.5" }, { name: "Synthwave - Gaming ðŸŽ®", id: "4xDzrJKXOOY", freq: "98.3" }, { name: "Lofi Sleep - Relax ðŸ’¤", id: "rUxyKA_-grg", freq: "104.7" } ];
        let currentStationIndex = 0;
        const backgrounds = [ 'https://media.giphy.com/media/tXzFpjeqVnE7m/giphy.gif', 'https://i.pinimg.com/originals/79/5c/ab/795cabc4647f73b365e2e6eabd0f34dc.gif', 'https://media.giphy.com/media/U3qYN8S0j3bpK/giphy.gif', 'https://media.giphy.com/media/LDBuYzAwu8L4I/giphy.gif' ];
        let currentBgIndex = 0;
        const themes = ['', 'theme-purple', 'theme-orange'];
        let currentThemeIndex = 0;
        var player;
        
        // Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
        const radioDevice = document.querySelector('.radio-device');
        const vinylRecord = document.querySelector('.vinyl-record');
        const stationNameEl = document.getElementById('stationName');
        const freqValueEl = document.getElementById('freqValue');
        const meterBars = document.querySelectorAll('.meter-bar');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const minimizeBtn = document.getElementById('minimizeBtn');
        const volumeSlider = document.getElementById('volumeSlider');

        function onYouTubeIframeAPIReady() { player = new YT.Player('player', { height: '200', width: '200', videoId: stations[currentStationIndex].id, playerVars: { 'playsinline': 1, 'controls': 0, 'disablekb': 1 }, events: { 'onReady': onPlayerReady } }); }
        function onPlayerReady(event) { player.setVolume(50); updateDisplayInfo(); }

        playBtn.addEventListener('click', () => { if(player && player.playVideo) { player.playVideo(); togglePlayState(true); } });
        pauseBtn.addEventListener('click', () => { if(player && player.pauseVideo) { player.pauseVideo(); togglePlayState(false); } });
        document.getElementById('nextBtn').addEventListener('click', () => loadStation(currentStationIndex + 1));
        document.getElementById('prevBtn').addEventListener('click', () => loadStation(currentStationIndex - 1));
        volumeSlider.addEventListener('input', (e) => { if(player) player.setVolume(e.target.value); });
        
        document.getElementById('bgBtn').addEventListener('click', () => { currentBgIndex = (currentBgIndex + 1) % backgrounds.length; document.body.style.backgroundImage = `url('${backgrounds[currentBgIndex]}')`; });
        document.getElementById('themeBtn').addEventListener('click', () => { if (themes[currentThemeIndex]) document.body.classList.remove(themes[currentThemeIndex]); currentThemeIndex = (currentThemeIndex + 1) % themes.length; if (themes[currentThemeIndex]) document.body.classList.add(themes[currentThemeIndex]); });

        // Ø²Ø± Ø§Ù„ØªØµØºÙŠØ±
        minimizeBtn.addEventListener('click', () => {
            radioDevice.classList.toggle('minimized');
            minimizeBtn.innerHTML = radioDevice.classList.contains('minimized') ? '<i class="fas fa-expand-alt"></i>' : '<i class="fas fa-compress-alt"></i>';
        });

        function loadStation(index) { currentStationIndex = (index + stations.length) % stations.length; player.loadVideoById(stations[currentStationIndex].id); updateDisplayInfo(); if (playBtn.classList.contains('hidden')) togglePlayState(true); }
        function updateDisplayInfo() { stationNameEl.innerText = stations[currentStationIndex].name; freqValueEl.innerText = stations[currentStationIndex].freq; }
        
        function togglePlayState(isPlaying) {
            playBtn.classList.toggle('hidden', isPlaying);
            pauseBtn.classList.toggle('hidden', !isPlaying);
            
            if(isPlaying) {
                radioDevice.classList.add('playing'); // Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ¬Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ©
                vinylRecord.classList.add('spinning'); // Ù„ØªØ´ØºÙŠÙ„ Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ù‚Ø±Øµ
                meterBars.forEach(bar => bar.classList.add('active'));
            } else {
                radioDevice.classList.remove('playing');
                vinylRecord.classList.remove('spinning');
                meterBars.forEach(bar => bar.classList.remove('active'));
            }
        }
        function updateClock() { const now = new Date(); let hours = now.getHours(); let minutes = now.getMinutes(); hours = hours < 10 ? '0' + hours : hours; minutes = minutes < 10 ? '0' + minutes : minutes; document.getElementById('clock').innerText = hours + ':' + minutes; } setInterval(updateClock, 1000); updateClock();
    </script>
    <script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>